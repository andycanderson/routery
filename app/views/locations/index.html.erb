<h1>all locations</h1>


<div id="map_canvas"></div>

<script>

// function initialize() {
//     var latlng = new google.maps.LatLng(-34.397, 150.644);
//     var myOptions = {
//         zoom: 8,
//         center: latlng,
//         mapTypeId: google.maps.MapTypeId.ROADMAP,
//         styles: mapStyle 
//     };
//     var map = new google.maps.Map(document.getElementById("map_canvas"),
//             myOptions);
// }
// google.maps.event.addDomListener(window, "load", initialize);



$(document).ready(function () {

var mapStyle = [{"featureType":"water","elementType":"all","stylers":[{"hue":"#bbbbbb"},{"saturation":-100},{"lightness":-4},{"visibility":"on"}]},{"featureType":"landscape","elementType":"all","stylers":[{"hue":"#999999"},{"saturation":-100},{"lightness":-33},{"visibility":"on"}]},{"featureType":"road","elementType":"all","stylers":[{"hue":"#999999"},{"saturation":-100},{"lightness":-6},{"visibility":"on"}]},{"featureType":"poi","elementType":"all","stylers":[{"hue":"#aaaaaa"},{"saturation":-100},{"lightness":-15},{"visibility":"on"}]}];



    var map;
    var elevator;
    var myOptions = {
        zoom: 1,
        center: new google.maps.LatLng(0, 0),
        // this makes terrain show
        // mapTypeId: 'terrain',
        styles: mapStyle
    };
    map = new google.maps.Map($('#map_canvas')[0], myOptions);

    // var addresses = ['England', 'France', 'Germany','Italy','Greece','Disneyland'];


    // input addresses here
    var addresses = [
    <% @locations.each do |place| %>
  "<%="#{place.coordinates[1]}, #{place.coordinates[0]}"%>",<%end%>
  ];
  

    for (var x = 0; x < addresses.length; x++) 
    {
        $.getJSON('http://maps.googleapis.com/maps/api/geocode/json?address='+addresses[x]+'&sensor=false', null, function (data) {
            var p = data.results[0].geometry.location;
            
            var latlng = new google.maps.LatLng(p.lat, p.lng);
            new google.maps.Marker({
                position: latlng,
                map: map,
            });

        });
    }

});